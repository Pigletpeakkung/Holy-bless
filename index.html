<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Holy Bless - Divine Wisdom Generator</title>
  <style>
    :root {
      --primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      --secondary-gradient: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
      --gold-gradient: linear-gradient(135deg, #ffd89b 0%, #19547b 100%);
      --star-gradient: linear-gradient(135deg, #FFD700 0%, #FFA500 100%);
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Georgia', serif;
      background: var(--primary-gradient);
      min-height: 100vh;
      color: #333;
      transition: all 0.3s ease;
      overflow-x: hidden;
    }

    .container {
      max-width: 1000px;
      margin: 0 auto;
      padding: 20px;
    }

    .header {
      text-align: center;
      margin-bottom: 30px;
      color: white;
      text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
    }

    .header h1 {
      font-size: 2.8em;
      margin-bottom: 10px;
      font-weight: 300;
      letter-spacing: 2px;
    }

    .header p {
      font-size: 1.2em;
      opacity: 0.9;
      font-style: italic;
    }

    .controls {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 20px;
      margin-bottom: 40px;
      flex-wrap: wrap;
    }

    .theme-selector, .source-filter {
      padding: 10px 18px;
      border: none;
      border-radius: 25px;
      background: rgba(255,255,255,0.25);
      color: white;
      backdrop-filter: blur(15px);
      cursor: pointer;
      font-size: 0.95em;
      transition: all 0.3s ease;
    }

    .theme-selector:hover, .source-filter:hover {
      background: rgba(255,255,255,0.35);
      transform: translateY(-2px);
    }

    /* Centered Star Button Container */
    .star-button-container {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      margin: 60px auto;
      position: relative;
      z-index: 10;
    }

    .star-button {
      position: relative;
      width: 120px;
      height: 120px;
      background: var(--star-gradient);
      border: none;
      border-radius: 50%;
      cursor: pointer;
      box-shadow: 0 10px 30px rgba(255, 215, 0, 0.4);
      transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      transform: scale(1);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 3em;
      color: white;
      text-shadow: 2px 2px 8px rgba(0,0,0,0.3);
      border: 3px solid rgba(255,255,255,0.3);
      overflow: hidden;
    }

    .star-button::before {
      content: '';
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: conic-gradient(
        transparent,
        rgba(255,255,255,0.4),
        transparent,
        rgba(255,255,255,0.4),
        transparent
      );
      animation: rotate 3s linear infinite;
      opacity: 0;
      transition: opacity 0.3s ease;
    }

    .star-button:hover {
      transform: scale(1.15) rotate(5deg);
      box-shadow: 0 20px 50px rgba(255, 215, 0, 0.6);
      background: linear-gradient(135deg, #FFD700 0%, #FF8C00 100%);
    }

    .star-button:hover::before {
      opacity: 1;
    }

    .star-button:active {
      transform: scale(1.05) rotate(-5deg);
    }

    /* Splash Effect */
    .star-button.splash {
      animation: divineExplosion 2s ease-out;
    }

    @keyframes divineExplosion {
      0% { 
        transform: scale(1);
        box-shadow: 0 0 0 0 rgba(255, 215, 0, 0.8);
      }
      25% { 
        transform: scale(1.3);
        box-shadow: 
          0 0 0 20px rgba(255, 215, 0, 0.6),
          0 0 0 40px rgba(255, 165, 0, 0.4),
          0 0 0 60px rgba(255, 69, 0, 0.2);
      }
      50% { 
        transform: scale(1.2);
        box-shadow: 
          0 0 0 40px rgba(255, 215, 0, 0.4),
          0 0 0 80px rgba(255, 165, 0, 0.2),
          0 0 0 120px rgba(255, 69, 0, 0.1);
      }
      100% { 
        transform: scale(1);
        box-shadow: 0 10px 30px rgba(255, 215, 0, 0.4);
      }
    }

    @keyframes rotate {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    .star-icon {
      font-size: 1em;
      animation: twinkle 2s ease-in-out infinite alternate;
      z-index: 2;
      position: relative;
    }

    @keyframes twinkle {
      0% { opacity: 0.8; transform: scale(1) rotate(0deg); }
      100% { opacity: 1; transform: scale(1.1) rotate(15deg); }
    }

    .star-button-text {
      color: white;
      margin-top: 20px;
      font-style: italic;
      font-size: 1.1em;
      text-shadow: 1px 1px 3px rgba(0,0,0,0.5);
      opacity: 0.9;
      text-align: center;
    }

    /* Radiant Light Effect */
    .radiant-light {
      position: fixed;
      top: 50%;
      left: 50%;
      width: 300px;
      height: 300px;
      transform: translate(-50%, -50%);
      background: radial-gradient(
        circle,
        rgba(255, 215, 0, 0.8) 0%,
        rgba(255, 165, 0, 0.6) 20%,
        rgba(255, 69, 0, 0.4) 40%,
        rgba(255, 20, 147, 0.2) 60%,
        transparent 80%
      );
      border-radius: 50%;
      pointer-events: none;
      z-index: 1000;
      opacity: 0;
      animation: radiantPulse 2s ease-out;
    }

    @keyframes radiantPulse {
      0% {
        opacity: 0;
        transform: translate(-50%, -50%) scale(0.1);
      }
      50% {
        opacity: 1;
        transform: translate(-50%, -50%) scale(2);
      }
      100% {
        opacity: 0;
        transform: translate(-50%, -50%) scale(4);
      }
    }

    .quote-card {
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(20px);
      border-radius: 25px;
      padding: 50px;
      margin: 40px 0;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.15);
      border: 1px solid rgba(255, 255, 255, 0.3);
      transform: translateY(30px);
      opacity: 0;
      transition: all 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    }

    .quote-card.show {
      transform: translateY(0);
      opacity: 1;
    }

    .quote-text {
      font-size: 1.5em;
      line-height: 1.8;
      font-style: italic;
      color: #2c3e50;
      margin-bottom: 25px;
      text-align: center;
      font-weight: 400;
      letter-spacing: 0.5px;
    }

    .quote-source {
      text-align: center;
      font-size: 1.1em;
      color: #7f8c8d;
      font-weight: 600;
      margin-bottom: 30px;
      font-style: normal;
    }

    .quote-actions {
      display: flex;
      justify-content: center;
      gap: 15px;
      flex-wrap: wrap;
      margin-top: 30px;
    }

    .action-btn {
      padding: 14px 28px;
      border: none;
      border-radius: 30px;
      cursor: pointer;
      font-size: 0.95em;
      font-weight: 600;
      transition: all 0.3s ease;
      text-decoration: none;
      display: inline-flex;
      align-items: center;
      gap: 10px;
    }

    .primary-btn {
      background: linear-gradient(135deg, #667eea, #764ba2);
      color: white;
      box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
    }

    .primary-btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 12px 35px rgba(102, 126, 234, 0.6);
    }

    .secondary-btn {
      background: rgba(255, 255, 255, 0.9);
      color: #333;
      border: 2px solid rgba(102, 126, 234, 0.3);
    }

    .secondary-btn:hover {
      background: rgba(102, 126, 234, 0.1);
      border-color: rgba(102, 126, 234, 0.6);
      transform: translateY(-2px);
    }

    .favorite-btn {
      background: linear-gradient(135deg, #ff6b6b, #ee5a24);
      color: white;
    }

    .favorite-btn.favorited {
      background: linear-gradient(135deg, #e74c3c, #c0392b);
    }

    .daily-quote {
      background: var(--gold-gradient);
      color: white;
      padding: 35px;
      border-radius: 25px;
      margin: 40px 0;
      text-align: center;
      box-shadow: 0 15px 40px rgba(0, 0, 0, 0.2);
    }

    .daily-quote h3 {
      font-size: 1.6em;
      margin-bottom: 20px;
      font-weight: 300;
    }

    .stats {
      display: flex;
      justify-content: center;
      gap: 40px;
      margin: 40px 0;
      flex-wrap: wrap;
    }

    .stat-item {
      background: rgba(255, 255, 255, 0.25);
      backdrop-filter: blur(15px);
      padding: 25px;
      border-radius: 20px;
      text-align: center;
      color: white;
      min-width: 140px;
      transition: transform 0.3s ease;
    }

    .stat-item:hover {
      transform: translateY(-5px);
    }

    .stat-number {
      font-size: 2.2em;
      font-weight: bold;
      display: block;
    }

    .credit {
      font-size: 0.95em;
      color: rgba(255, 255, 255, 0.8);
      text-align: center;
      margin-top: 50px;
      padding: 25px;
      background: rgba(0, 0, 0, 0.1);
      border-radius: 20px;
      line-height: 1.6;
    }

    /* TTS Status Indicator */
    .tts-status {
      position: fixed;
      top: 30px;
      right: 30px;
      background: rgba(0, 0, 0, 0.85);
      color: white;
      padding: 12px 20px;
      border-radius: 15px;
      font-size: 0.9em;
      z-index: 1000;
      display: none;
      backdrop-filter: blur(10px);
    }

    .tts-status.speaking {
      background: rgba(76, 175, 80, 0.9);
      display: block;
    }

    .tts-status.error {
      background: rgba(244, 67, 54, 0.9);
      display: block;
    }

    /* Theme variations */
    .theme-ocean {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    }

    .theme-sunset {
      background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
    }

    .theme-forest {
      background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
    }

    .theme-cosmic {
      background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
    }

    @media (max-width: 768px) {
      .container {
        padding: 15px;
      }
      
      .header h1 {
        font-size: 2.2em;
      }
      
      .quote-card {
        padding: 30px;
      }
      
      .quote-text {
        font-size: 1.3em;
      }
      
      .star-button {
        width: 100px;
        height: 100px;
        font-size: 2.5em;
      }

      .stats {
        gap: 20px;
      }

      .stat-item {
        min-width: 120px;
        padding: 20px;
      }
    }
  </style>
</head>
<body class="theme-ocean">
  <div class="container">
    <header class="header">
      <h1>✨ Holy Bless ✨</h1>
      <p>Sacred wisdom from the masters of consciousness and divine light</p>
    </header>

    <div class="controls">
      <select class="theme-selector" id="themeSelector">
        <option value="theme-ocean">Ocean Depths</option>
        <option value="theme-sunset">Sunset Glow</option>
        <option value="theme-forest">Forest Wisdom</option>
        <option value="theme-cosmic">Cosmic Mystery</option>
      </select>

      <select class="source-filter" id="sourceFilter">
        <option value="all">All Sources</option>
        <option value="Alan Watts">Alan Watts</option>
        <option value="Buddha">Buddha</option>
        <option value="Lao Tzu">Lao Tzu</option>
        <option value="Rumi">Rumi</option>
        <option value="Law of One">Law of One</option>
        <option value="Emerald Tablet">Emerald Tablet</option>
        <option value="Conversations with God">Conversations with God</option>
        <option value="Seth Speaks">Seth Speaks</option>
        <option value="Florence Scovel Shinn">Florence Scovel Shinn</option>
      </select>
    </div>

    <div class="daily-quote" id="dailyQuote">
      <h3>🌅 Today's Sacred Message</h3>
      <div id="dailyQuoteContent"></div>
    </div>

    <div class="stats">
      <div class="stat-item">
        <span class="stat-number" id="totalQuotes">0</span>
        <span>Total Wisdom</span>
      </div>
      <div class="stat-item">
        <span class="stat-number" id="quotesRead">0</span>
        <span>Messages Received</span>
      </div>
      <div class="stat-item">
        <span class="stat-number" id="favoriteCount">0</span>
        <span>Favorites Saved</span>
      </div>
    </div>

    <div class="star-button-container">
      <button id="starButton" class="star-button" onclick="generatePassage()" aria-label="Receive divine wisdom">
        <span class="star-icon">🌟</span>
      </button>
      <p class="star-button-text">Click the sacred star to receive your divine message</p>
    </div>

    <div id="quoteCard" class="quote-card" style="display: none;">
      <div class="quote-text" id="quoteText"></div>
      <div class="quote-source" id="quoteSource"></div>
      <div class="quote-actions">
        <button class="action-btn primary-btn" id="playBtn">🔊 Listen Again</button>
        <button class="action-btn favorite-btn" id="favoriteBtn">❤️ Save</button>
        <button class="action-btn secondary-btn" id="shareBtn">📤 Share</button>
        <button class="action-btn secondary-btn" id="copyBtn">📋 Copy</button>
      </div>
    </div>

    <div class="credit">
      Sacred wisdom from the eternal teachings of: Conversations with God • Seth Speaks • Rumi • Alan Watts • Florence Scovel Shinn • Lao Tzu • Law of One • Emerald Tablet • Buddha • Gandhi • Einstein • Jung • Tesla • and many other enlightened souls who have shared their divine insights with humanity
    </div>
  </div>

  <!-- TTS Status Indicator -->
  <div id="ttsStatus" class="tts-status"></div>

  <script>
    // Extended passages with much longer, more detailed content
    let passages = [
      // Conversations with God (Extended)
      { 
        text: "There is no such thing as 'wrong,' only what does not serve you. You cannot make a mistake, you can only make a choice that leads you closer to or further from who you really are. Every experience is a gift, every moment an opportunity to express the highest version of yourself. When you understand that life is not about avoiding mistakes but about making choices that align with your soul's purpose, you free yourself from the prison of perfectionism and step into the freedom of authentic living. Your soul knows no judgment, only love, only growth, only the eternal dance of becoming.", 
        id: 1, 
        source: "Conversations with God" 
      },
      { 
        text: "The purpose of life is to know yourself, create yourself, and experience yourself as Who You Really Are. You are not here to learn lessons in the traditional sense, but to remember the magnificent being you have always been. Life is your canvas, and every thought, word, and action is a brushstroke in the masterpiece of your existence. You are both the artist and the art, the creator and the creation, the observer and the observed. In this grand theater of existence, you play all the roles while simultaneously being the audience, the director, and the very stage upon which the drama unfolds.", 
        id: 2, 
        source: "Conversations with God" 
      },
      { 
        text: "Life is an ongoing process of creation. You are creating your reality with every thought, word, and action, moment by moment, breath by breath. Your thoughts are the blueprints, your words are the commands, and your actions are the manifestation tools. The universe is not something that happens to you; it is something that happens through you. You are not a victim of circumstances but a powerful co-creator with the Divine, constantly sculpting your experience through the power of your consciousness. When you truly understand this, you realize that you have been the author of your story all along.", 
        id: 3, 
        source: "Conversations with God" 
      },

      // Seth Speaks (Extended)
      { 
        text: "You create your own reality. There are no limitations to the self except those you believe in. Your beliefs form the structure of your experience as surely as clay shapes a pot in the hands of a skilled artisan. What you believe about yourself, about others, about the nature of reality itself, becomes the framework within which your life unfolds. Change your beliefs, and you change your world. This is not metaphor or wishful thinking, but the fundamental mechanism by which consciousness creates experience. You are not at the mercy of external forces; you are the force that shapes your external world through the power of your inner convictions.", 
        id: 8, 
        source: "Seth Speaks" 
      },
      { 
        text: "The universe is a multidimensional school, and you are here to learn and explore your own consciousness. Each lifetime is but one classroom in an infinite university of experience. You choose your lessons, your teachers, your challenges, and your victories before you ever take physical form. The curriculum is designed by your higher self to provide exactly the experiences needed for your soul's growth and expansion. What appears as hardship is often your greatest teacher, what seems like failure is frequently your most profound success, and what looks like an ending is always a new beginning in disguise.", 
        id: 9, 
        source: "Seth Speaks" 
      },
      { 
        text: "The present is the point of power, where all realities intersect and all possibilities exist simultaneously. In this eternal now, you have access to infinite potential and unlimited creative force. The past exists only as memory, the future only as probability, but the present moment is where your power to create and transform resides. Here, in this sacred instant, you can choose to step into any reality you desire, to become any version of yourself you can imagine, to experience any truth you are willing to embrace. The present moment is your gateway to all dimensions of existence.", 
        id: 12, 
        source: "Seth Speaks" 
      },

            // Rumi (Extended)
      { 
        text: "Out beyond ideas of wrongdoing and rightdoing, there is a field. I'll meet you there. When the soul lies down in that grass, the world is too full to talk about. This sacred space exists beyond the limitations of human judgment, beyond the narrow confines of what we think we know about right and wrong. In this field of pure being, love is the only language spoken, understanding flows without words, and hearts recognize each other without the need for explanation. Here, all separation dissolves, all wounds heal, all questions find their answers in the silence of perfect knowing.", 
        id: 15, 
        source: "Rumi" 
      },
      { 
        text: "The wound is the place where the Light enters you. Every pain you have experienced, every heartbreak you have endured, every loss you have suffered has created an opening through which divine love can pour into your being. What you thought was breaking you was actually making you whole. The cracks in your heart are not signs of weakness but gateways to wisdom. Through your wounds, you learn compassion. Through your struggles, you discover strength. Through your darkness, you find the light that was always there, waiting patiently for you to notice its presence.", 
        id: 16, 
        source: "Rumi" 
      },
      { 
        text: "Do not feel lonely, the entire universe is inside you. You carry within your being the wisdom of the stars, the depth of oceans, the strength of mountains, and the freedom of the wind. Every sunset you have ever witnessed lives in your memory, every flower you have ever smelled has left its essence in your soul, every song you have ever heard continues to vibrate in the chambers of your heart. You are not separate from creation; you are creation expressing itself in human form. The same force that moves the planets through space beats within your chest.", 
        id: 17, 
        source: "Rumi" 
      },
      { 
        text: "What you seek is seeking you. The love you long for is already reaching toward you from across time and space. The wisdom you desire is waiting to be discovered in the depths of your own being. The peace you crave is flowing toward you like a river finding its way to the sea. Stop running, stop searching, stop striving, and simply allow yourself to be found by that which has been calling your name since before you were born. Trust that the universe conspires to bring you everything your soul truly needs.", 
        id: 19, 
        source: "Rumi" 
      },

      // Alan Watts (Extended)
      { 
        text: "You are the universe experiencing itself subjectively. You are not something that the universe contains; you are something that the universe is doing, like a wave that the ocean is waving. Your consciousness is not separate from the cosmic consciousness; it is cosmic consciousness focused through the unique lens of your individual perspective. When you look out at the stars, the universe is looking at itself. When you contemplate the mystery of existence, existence is contemplating itself through your wondering mind. You are the universe's way of knowing itself intimately, personally, subjectively.", 
        id: 22, 
        source: "Alan Watts" 
      },
      { 
        text: "The only way to make sense out of change is to plunge into it, move with it, and join the dance. Life is not a problem to be solved but a reality to be experienced, not a destination to reach but a dance to be danced. Resistance to change creates suffering; acceptance of change creates flow. When you learn to move with the rhythms of existence rather than against them, you discover that what seemed chaotic was actually choreographed, what appeared random was actually harmony, and what felt like confusion was actually the music of the spheres playing a song too complex for the mind but perfectly understood by the heart.", 
        id: 23, 
        source: "Alan Watts" 
      },

      // Buddha & Buddhist Teachings (Extended)
      { 
        text: "Peace comes from within. Do not seek it without. All the treasures of the earth cannot give you the peace that already exists in the depths of your own being. This peace is not dependent on circumstances, not subject to the changing winds of fortune, not diminished by the storms of life. It is the peace that underlies all experience, the stillness that exists in the center of all movement, the silence that contains all sound. When you touch this inner sanctuary, you discover that you have been carrying paradise within you all along, waiting patiently for you to stop looking elsewhere and come home to yourself.", 
        id: 62, 
        source: "Buddha" 
      },
      { 
        text: "Thousands of candles can be lit from a single candle, and the life of the candle will not be shortened. Happiness never decreases by being shared, wisdom never diminishes by being given away, love never lessens by being expressed freely. The more you share of what is truly valuable, the more you receive. This is the paradox of spiritual abundance: the way to have more is to give more, the way to receive is to offer, the way to be fulfilled is to fulfill others. Your inner light grows brighter when you use it to illuminate the path for others.", 
        id: 64, 
        source: "Buddha" 
      },

      // Lao Tzu (Extended)
      { 
        text: "The Tao that can be told is not the eternal Tao. The name that can be named is not the eternal name. The truth that can be captured in words is but a shadow of the Truth that lives beyond all description. The mystery that can be explained is not the Mystery that permeates all existence. Yet in pointing toward what cannot be spoken, we catch glimpses of the ineffable. In reaching for what cannot be grasped, we touch the untouchable. In seeking what cannot be found, we discover that we are already what we seek. The pathless path leads home.", 
        id: 76, 
        source: "Lao Tzu, Tao Te Ching" 
      },
      { 
        text: "Nature does not hurry, yet everything is accomplished in perfect timing. The seasons change when they are ready, flowers bloom when their time has come, rivers flow at their own pace toward the sea. There is a divine timing to all things, a rhythm that underlies all of creation. When you align yourself with this natural flow, you discover that effort becomes effortless, work becomes play, and struggle transforms into graceful movement. Trust the timing of your life, for your soul knows when you are ready for each new phase of growth and experience.", 
        id: 77, 
        source: "Lao Tzu, Tao Te Ching" 
      },

      // Law of One (Extended)
      { 
        text: "All is one. There is no polarity, no right or wrong, no disharmony, but only identity. Every being you encounter is another face of the One Creator experiencing itself from a different perspective. Every challenge you face is the Creator knowing itself through contrast. Every joy you feel is the Creator celebrating its own existence through your happiness. When you harm another, you harm yourself, for there is only One Self appearing as many. When you love another, you love yourself, for love is the recognition of the unity that underlies apparent separation.", 
        id: 91, 
        source: "Law of One" 
      },
      { 
        text: "Love is the vibration which creates, builds, and maintains all things. Love is not merely emotion; it is the fundamental creative force of the universe, the energy from which all things emerge and to which all things return. Love builds galaxies and atoms with equal care, orchestrates the dance of planets and the rhythm of heartbeats with the same intelligence. When you align with love, you align with the creative power of the cosmos itself. Every act of love contributes to the evolution of consciousness, every moment of compassion advances the awakening of all beings.", 
        id: 95, 
        source: "Law of One" 
      },

      // Florence Scovel Shinn (Extended)
      { 
        text: "The game of life is a game of boomerangs. Our thoughts, deeds, and words return to us sooner or later with astounding accuracy and perfect justice. What you send out into the world comes back to you multiplied, magnified, and often in unexpected ways. Kindness returns as kindness, love returns as love, but fear returns as more fear, and anger returns as more anger. Understanding this divine law transforms you from a victim of circumstances into a conscious creator of your experience. Choose your thoughts as carefully as a gardener chooses seeds, for you will surely harvest what you plant in the garden of your mind.", 
        id: 29, 
        source: "Florence Scovel Shinn" 
      },
      { 
        text: "Your word is your wand. The words you speak create your own destiny with the precision of divine magic. Every word carries vibrational energy that shapes your reality, attracts experiences, and manifests conditions that correspond to the quality of your speech. Speak words of health and vitality into being, declare abundance and prosperity as your natural state, affirm love and harmony as your birthright. Your words are not mere sounds but creative commands issued to the universe, which always responds with unwavering faithfulness to the patterns you establish through the power of your spoken truth.", 
        id: 31, 
        source: "Florence Scovel Shinn" 
      },

      // Emerald Tablet & Hermetic Wisdom (Extended)
      { 
        text: "As above, so below; as below, so above. The patterns that govern the movement of stars also govern the circulation of blood in your veins. The laws that orchestrate the dance of galaxies also orchestrate the relationships in your life. What happens in the cosmic realms of consciousness is reflected in the intimate chambers of your heart. Understanding this correspondence allows you to work with universal principles rather than against them, to align your personal will with the cosmic will, to discover that your individual growth contributes to the evolution of the entire universe.", 
        id: 116, 
        source: "Emerald Tablet" 
      },
      { 
        text: "That which is below is like that which is above, and that which is above is like that which is below, to accomplish the miracles of one thing. Heaven and Earth are not separate realms but different expressions of the same fundamental reality. Spirit and matter are not opposites but dance partners in the eternal waltz of creation. When you understand this unity, you become capable of miracles, for you recognize that changing your inner state changes your outer world, that transforming your consciousness transforms your circumstances, that healing your heart heals your life.", 
        id: 117, 
        source: "Emerald Tablet" 
      },

      // Modern Wisdom (Extended)
      { 
        text: "Be the change you wish to see in the world. The transformation you seek in society must first take root in the soil of your own being. Every act of kindness you perform plants seeds of kindness in the collective consciousness. Every moment of peace you cultivate adds to the reservoir of peace available to all humanity. You cannot give what you do not have, cannot teach what you have not learned, cannot inspire what you do not embody. The most powerful way to serve the world is to become the fullest, most authentic, most loving version of yourself.", 
        id: 108, 
        source: "Mahatma Gandhi" 
      },
      { 
        text: "The only real valuable thing is intuition. Beyond all the knowledge you can accumulate, beyond all the information you can process, beyond all the theories you can understand, there exists a deeper way of knowing that comes not from thinking but from being. Intuition is the voice of your soul speaking the language of knowing without knowing how you know. It is the wisdom that transcends logic, the intelligence that operates beyond the limitations of the rational mind. Trust this inner guidance, for it connects you to the infinite intelligence that permeates all existence.", 
        id: 110, 
        source: "Albert Einstein" 
      },
      { 
        text: "Everything is energy and that's all there is to it. Match the frequency of the reality you want and you cannot help but get that reality. This is not philosophy but physics, not theory but fact. Your thoughts are energy, your emotions are energy, your very presence is a unique energetic signature in the vast symphony of creation. When you understand that consciousness and energy are one, you realize that changing your inner vibration changes your external reality as naturally as tuning a radio changes the station you receive.", 
        id: 111, 
        source: "Albert Einstein" 
      },
      { 
        text: "The privilege of a lifetime is to become who you truly are. Beneath all the roles you play, beyond all the masks you wear, past all the identities you have adopted, there exists an authentic self that is uniquely yours. This true self is not something you need to create but something you need to uncover, not something you need to become but something you need to remember. The journey of self-discovery is actually a journey of self-recovery, a returning to the essence of who you have always been beneath the layers of conditioning and expectation.", 
        id: 112, 
        source: "Carl Jung" 
      }
    ];

    // Enhanced state management
    let usedPassages = JSON.parse(localStorage.getItem('usedPassages')) || [];
    let favorites = JSON.parse(localStorage.getItem('favorites')) || [];
    let quotesRead = parseInt(localStorage.getItem('quotesRead')) || 0;
    let currentQuote = null;
    let isGenerating = false;
    let currentUtterance = null;

    // Create radiant light splash effect
    function createRadiantSplash() {
      const splash = document.createElement('div');
      splash.className = 'radiant-light';
      document.body.appendChild(splash);
      
      setTimeout(() => {
        if (document.body.contains(splash)) {
          document.body.removeChild(splash);
        }
      }, 2000);
    }

    // Enhanced TTS functionality
    function enhancedTTS(text, autoPlay = false) {
      console.log("Enhanced TTS called with:", text.substring(0, 50) + "...");
      
      if (!window.speechSynthesis) {
        showTTSStatus('TTS not supported', 'error');
        return null;
      }

      window.speechSynthesis.cancel();
      
      const utterance = new SpeechSynthesisUtterance(text);
      utterance.rate = 0.75; // Slower for better comprehension
      utterance.pitch = 0.9;
      utterance.volume = 1.0;
      
      const voices = window.speechSynthesis.getVoices();
      if (voices.length > 0) {
        const preferredVoice = voices.find(voice => 
          voice.lang.startsWith('en') && 
          (voice.name.includes('Google') || voice.name.includes('Microsoft') || voice.name.includes('Natural'))
        ) || voices.find(voice => voice.lang.startsWith('en')) || voices[0];
        
        if (preferredVoice) {
          utterance.voice = preferredVoice;
        }
      }
      
      utterance.onstart = () => {
        showTTSStatus('🔊 Speaking sacred wisdom...', 'speaking');
      };
      
      utterance.onend = () => {
        hideTTSStatus();
        currentUtterance = null;
      };
      
      utterance.onerror = (event) => {
        console.error("TTS error:", event.error);
        showTTSStatus(`Voice error: ${event.error}`, 'error');
        currentUtterance = null;
      };
      
      currentUtterance = utterance;
      
      if (autoPlay) {
        setTimeout(() => {
          try {
            window.speechSynthesis.speak(utterance);
          } catch (error) {
            console.error("Failed to start TTS:", error);
            showTTSStatus('Failed to start voice', 'error');
          }
        }, 100);
      }
      
      return utterance;
    }

    // Enhanced quote generation with splash effect
    function generatePassage() {
      if (isGenerating) return;
      
      console.log("Generating divine passage...");
      isGenerating = true;

      const button = document.getElementById('starButton');
      
      // Create radiant splash effect
      createRadiantSplash();
      button.classList.add('splash');
      
      setTimeout(() => {
        button.classList.remove('splash');
        isGenerating = false;
      }, 2000);

      // Filter passages
      const sourceFilter = document.getElementById('sourceFilter').value;
      let availablePassages = passages;
      
      if (sourceFilter !== 'all') {
        availablePassages = passages.filter(p => p.source.includes(sourceFilter));
      }
      
      availablePassages = availablePassages.filter(p => !usedPassages.includes(p.id));

      if (availablePassages.length === 0) {
        usedPassages = [];
        availablePassages = sourceFilter === 'all' ? passages : passages.filter(p => p.source.includes(sourceFilter));
        localStorage.setItem('usedPassages', JSON.stringify(usedPassages));
      }

      const randomPassage = availablePassages[Math.floor(Math.random() * availablePassages.length)];
      usedPassages.push(randomPassage.id);
      localStorage.setItem('usedPassages', JSON.stringify(usedPassages));
      
      quotesRead++;
      localStorage.setItem('quotesRead', quotesRead.toString());
      
      currentQuote = randomPassage;
      
      // Delay to show after splash effect
      setTimeout(() => {
        displayQuote(randomPassage);
        updateStats();
      }, 500);
    }

    // Enhanced quote display
    function displayQuote(quote) {
      const quoteCard = document.getElementById('quoteCard');
      const quoteText = document.getElementById('quoteText');
      const quoteSource = document.getElementById('quoteSource');
      
      quoteText.textContent = `"${quote.text}"`;
      quoteSource.textContent = `— ${quote.source}`;
      
      quoteCard.style.display = 'block';
      setTimeout(() => {
        quoteCard.classList.add('show');
      }, 100);
      
      updateFavoriteButton();
      
      // Auto-play TTS with the longer passage
      enhancedTTS(quote.text, true);
      
      // Setup button handlers
      document.getElementById('playBtn').onclick = () => {
        enhancedTTS(quote.text, true);
      };
      
      document.getElementById('favoriteBtn').onclick = () => toggleFavorite(quote);
      document.getElementById('shareBtn').onclick = () => shareQuote(quote);
      document.getElementById('copyBtn').onclick = () => copyQuote(quote);
    }

    // Rest of your existing functions (favorites, share, copy, etc.)
    function toggleFavorite(quote) {
      const existingIndex = favorites.findIndex(fav => fav.id === quote.id);
      
      if (existingIndex === -1) {
        favorites.push(quote);
        showNotification('Added to favorites! ❤️');
      } else {
        favorites.splice(existingIndex, 1);
        showNotification('Removed from favorites');
      }
      
      localStorage.setItem('favorites', JSON.stringify(favorites));
      updateFavoriteButton();
      updateStats();
    }

    function updateFavoriteButton() {
      const favoriteBtn = document.getElementById('favoriteBtn');
      if (currentQuote) {
        const isFavorited = favorites.some(fav => fav.id === currentQuote.id);
        favoriteBtn.textContent = isFavorited ? '💖 Saved' : '❤️ Save';
        favoriteBtn.classList.toggle('favorited', isFavorited);
      }
    }

    function showTTSStatus(message, type = 'speaking') {
      const statusEl = document.getElementById('ttsStatus');
      statusEl.textContent = message;
      statusEl.className = `tts-status ${type}`;
      
      if (type === 'error') {
        setTimeout(() => hideTTSStatus(), 3000);
      }
    }

    function hideTTSStatus() {
      const statusEl = document.getElementById('ttsStatus');
      statusEl.style.display = 'none';
    }

    function showNotification(message) {
      const notification = document.createElement('div');
      notification.style.cssText = `
        position: fixed;
        top: 20px;
        left: 50%;
        transform: translateX(-50%);
        background: rgba(0, 0, 0, 0.9);
        color: white;
        padding: 15px 25px;
        border-radius: 25px;
        z-index: 1000;
        font-size: 0.9em;
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
        backdrop-filter: blur(10px);
      `;
      notification.textContent = message;
      document.body.appendChild(notification);
      
      setTimeout(() => {
        if (document.body.contains(notification)) {
          document.body.removeChild(notification);
        }
      }, 3000);
    }

    // Daily quote, stats, and other utility functions
    function getDailyQuote() {
      const today = new Date().toDateString();
      const stored = localStorage.getItem('dailyQuote');
      
      if (stored) {
        const dailyData = JSON.parse(stored);
        if (dailyData.date === today) {
          return dailyData.quote;
        }
      }
      
      const dateHash = today.split('').reduce((a, b) => {
        a = ((a << 5) - a) + b.charCodeAt(0);
        return a & a;
      }, 0);
      
      const index = Math.abs(dateHash) % passages.length;
      const dailyQuote = passages[index];
      
      localStorage.setItem('dailyQuote', JSON.stringify({
        date: today,
        quote: dailyQuote
      }));
      
      return dailyQuote;
    }

    function displayDailyQuote() {
      const dailyQuote = getDailyQuote();
      document.getElementById('dailyQuoteContent').innerHTML = `
        <p style="font-style: italic; font-size: 1.1em; margin-bottom: 10px;">"${dailyQuote.text.substring(0, 200)}..."</p>
        <small>— ${dailyQuote.source}</small>
      `;
    }

    function updateStats() {
      document.getElementById('totalQuotes').textContent = passages.length;
      document.getElementById('quotesRead').textContent = quotesRead;
      document.getElementById('favoriteCount').textContent = favorites.length;
    }

    function setTheme(theme) {
      document.body.className = theme;
      localStorage.setItem('selectedTheme', theme);
    }

    // Event listeners
    document.getElementById('themeSelector').addEventListener('change', (e) => {
      setTheme(e.target.value);
    });

    // Initialize app
    function initializeApp() {
      console.log("Initializing Holy Bless app...");
      
      const savedTheme = localStorage.getItem('selectedTheme') || 'theme-ocean';
      document.getElementById('themeSelector').value = savedTheme;
      setTheme(savedTheme);
      
      displayDailyQuote();
      updateStats();
      
      setTimeout(() => {
        showNotification('✨ Welcome to Holy Bless! Click the sacred star for divine guidance ✨');
      }, 1500);
    }

    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', initializeApp);
    } else {
      initializeApp();
    }
  </script>
</body>
</html>
